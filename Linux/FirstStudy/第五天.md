# 第五天

##  在系统上寻找对应的文件/文件夹 locate

### `locate test` 系统中所有包含test相关的文件/文件夹都会被打印出来

### `locate --regexp 正则表达式` 对内容进行筛选
  补充：locate的底部原理：不是直接搜索整个系统的文件系统，而是从数据库里面读数据的，所以速度比较快，而数据库的数据是来源于文件系统的，系统内部定义了一个updatedb，但是这个updatedb一天只执行一次。所以这就造成了，你刚新建了文件-->updatedb没有执行-->datedb没有数据-->locate没有搜索出来。最终你刚建的文件，locate无法搜索。解决:以超级管理员的权限手动运行一次updatedb就行了.`sudo updatedb`
  
## 在指定的目录里面搜索文件/目录 find
  `find .` 列举出当前目录下的所有文件
  `find .|grep 正则` 筛选
  `find . -type f` 只搜索文件
  `find . -type d` 只搜索目录
  补充：很多时候我们都会对查询出来的文件进行操作。find 支持在后面拼接命令。
  `-exec + 命令行 ` 执行命令
  ` '{}' ` 有些命令需要指定对应的对象'{}'代表查询出来的文件对象
  ` ';' ` 必须填的，表示命令结束
  eg：` find . -type f -exec ls -l '{}' ';' `:对查询出来的文件进行打印权限。
  `find . -type f -exec grep hello '{}' ';'` 输出文件里面的hello
  `find . -type f -exec grep hello '{}' ';' -print` 同时输出对应的文件
  `find . -type f -exec grep -n hello '{}' ';' -print` 再输出行数
  `find . -type f -exec grep -ni hello '{}' ';' -print` 忽略大小写
  
  
## ssh 远程登录
  `ssh 用户名@IP地址`，然后输入密码就能登录到对应的远程电脑(前提是所有准备都准备好了)，当本地的登录的用户名和将要登录的远程电脑的用户名一致时，用户名@可以省略`ssh IP地址`
  `ctrl+d` 退出登录
  
### 每次登录都要输入密码，很麻烦可以通过使用ssh,实现不用密码登录
  > 1. `ssh-keygen` 
  > 2. 'cd ~/.ssh'
  > 3. ls 会发现多了2个文件 id_rsa和id_rsa.pub 其中id_rsa为私钥文件,id_rsa.pub为公钥文件，免密码登录，需要将公钥文件上传到远程电脑上(具体就是讲id_rsa.pub放在你登录的用户的主目录/.ssh/autorized_keys下)，这一步有对应的命令进行执行
  进入到本地的.ssh文件夹 `ssh-copy-id 远程服务器的用户名@IP地址`后面依次执行就可以了。后面登录时就可以不用密码登录了
  
  
### rsync 数据同步(remote synchronization)
  `rsync -r 本地目录 IP地址: (远程服务器的目录)` 将本地的一个目录和对应的文件上传到远程服务器上。
  补充: 1. 本地目录后面不要有/，有的话，之会上传目录里面的内容，而目录本身时不会被上传的 2. IP地址后面的:不能省略，3.远程服务器的目录可以省略，当省略时，默认为登录用户的主目录 4. 使用之前需要ssh的登录成功
  `rsync -r IP地址:目录 本地目录` 作用相同，从远程服务器下载文件到本地
  `rsync -av 本地目录/ IP地址：远程服务器目录/` 将本地新增的文件单独同步到服务器上（-av在上传时打印一些有用的参数）
  `rsync -av --delete 本地目录/ IP地址：远程服务器目录` 完全同步本地文件到远程服务器上，(新增的上传，--delete 本地删除的文件，远程服务器也删除)
  `rsync -av --delete 本地目录/ IP地址：远程服务器目录 --dry-run` 先打印修改信息，然后才选择是否同步()
  
  
### .sh 将多个命令放在一个文件里面，然后直接运行文件(shell支持循环，条件判断等语法)，由于其太多内容了，此处不做演示了