# 07，控制语句

### 1. switch
> 1. 在一个 switch 块内，每个 case 要么通过 break/return 等来终止
> 2. 要么注释说明程序将继续执行到哪一个 case 为止
> 3. 都必须包含一个 default 语句并且放在最后，即使它什么代码也没有

### 2. if/else/for/while/do
> 1. 语句中必须使用大括号，即使只有一行代码

### 3. 尽量少用 else， if-else
> 1. if-else语句可以改造成 `if(){   return; }`的形式
> 2. 如果只能靠if-else实现逻辑 尽量不要超过3层嵌套
> 3. 超过 3 层的 if-else 代码可以使用卫语句，或者状态模式来实现

### 3.if() 里面不要有太多的逻辑
> 1. 除常用方法(getXXX()/isXXX())外，不要在条件判断中执行其它复杂的语句，将复杂逻辑判断的结果赋值给一个有意义的布尔变量名，以提高可读性
```java
    boolean  existed =  (file.open(fileName, "w") != null) && (...) || (...);
    if (existed) {
    
    }
```

### 4.循环体中的语句要考量性能
> 1. 定义对象、变量、获取数据库连接,尽量移到循环外进行处理
> 2. 不必要的 try-catch 操作，尽量移到循环外

### 5.推荐使用接口入参保护

### 6.方法中需要进行参数校验的场景
> 1. 调用频次低的方法。
> 2. 执行时间开销很大的方法(数据库连接等)
> 3. 需要极高稳定性和可用性的方法
> 4. 对外提供的开放接口，不管是 RPC/API/HTTP 接口
> 5. 敏感权限入口

### 7.方法中不需要参数校验的场景
> 1. 极有可能被循环调用的方法(但是方法说明里必须注明外部参数检查)
> 2. 底层的方法调用频度都比较高(如dao层)
> 3. 被声明成 private 只会被自己代码所调用的方法，如果能够确定调用方法的代码传入参数已经做过检查或者肯定不会有问题，此时可以不校验参数
